# Instagram Content Studio - 화면 정의서

**Feature**: Instagram Content Studio (콘텐츠 스튜디오)
**Version**: 1.0
**Created**: 2025-12-21
**Status**: Draft

---

## 1. 화면 개요

### 1.1 화면 목적
미용실 오너가 Instagram 콘텐츠를 AI 기반으로 생성하고, 예약 발행하며, 성과를 관리할 수 있는 통합 콘텐츠 관리 플랫폼.

### 1.2 접근 경로
- **URL**: `/dashboard/instagram`
- **Navigation**: 사이드바 "인스타그램" 메뉴
- **권한**: 인증된 Shop Owner + Instagram 연동 완료

### 1.3 화면 목록
| 화면 ID | 화면명 | URL | 설명 |
|---------|--------|-----|------|
| CS-001 | 콘텐츠 목록 | `/dashboard/instagram` | 포스트 목록 및 상태 관리 |
| CS-002 | 콘텐츠 생성 | `/dashboard/instagram/create` | 새 포스트 작성 |
| CS-003 | 콘텐츠 편집 | `/dashboard/instagram/[id]/edit` | 포스트 수정 |
| CS-004 | AI 스튜디오 | `/dashboard/instagram/ai-studio` | AI 콘텐츠 생성 워크플로우 |
| CS-005 | 미디어 라이브러리 | `/dashboard/instagram/media` | 이미지/동영상 관리 |

---

## 2. CS-001: 콘텐츠 목록 화면

### 2.1 화면 구조
```
┌─────────────────────────────────────────────────────────────┐
│ 콘텐츠 스튜디오                          [+ 새 포스트]      │
│ Instagram 콘텐츠를 관리하세요                               │
├─────────────────────────────────────────────────────────────┤
│ View: [그리드] [리스트] [캘린더]                             │
├─────────────────────────────────────────────────────────────┤
│ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐       │
│ │ 전체     │ │ 초안     │ │ 예약됨   │ │ 게시됨   │       │
│ │ 45       │ │ 5        │ │ 8        │ │ 32       │       │
│ └──────────┘ └──────────┘ └──────────┘ └──────────┘       │
├─────────────────────────────────────────────────────────────┤
│ Grid View:                                                  │
│ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │
│ │ [image] │ │ [image] │ │ [image] │ │ [image] │           │
│ │ 예약됨  │ │ 게시됨  │ │ 초안    │ │ 게시됨  │           │
│ │ 12/25   │ │ ❤️1.2K  │ │         │ │ ❤️856   │           │
│ └─────────┘ └─────────┘ └─────────┘ └─────────┘           │
│ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │
│ │ [image] │ │ [image] │ │ [image] │ │ [+]     │           │
│ │ ...     │ │ ...     │ │ ...     │ │ 새로추가│           │
│ └─────────┘ └─────────┘ └─────────┘ └─────────┘           │
└─────────────────────────────────────────────────────────────┘
```

### 2.2 View Modes

#### 2.2.1 Grid View (기본)
```
┌─────────────────────────────────────┐
│ [이미지/비디오 썸네일]              │
│                                     │
│                                     │
├─────────────────────────────────────┤
│ [상태 뱃지]           [더보기 ⋯]   │
│ "캡션 미리보기..."                  │
│ 12월 25일 10:00 예정                │
└─────────────────────────────────────┘
```

#### 2.2.2 List View
| 컬럼 | 너비 | 내용 |
|------|------|------|
| 썸네일 | 60px | 이미지 미리보기 |
| 캡션 | flex | 캡션 (truncate) |
| 상태 | 100px | Status Badge |
| 예약/게시일 | 120px | 날짜/시간 |
| 인게이지먼트 | 120px | ❤️ 💬 (게시된 경우) |
| 액션 | 100px | 편집, 삭제, 복제 |

#### 2.2.3 Calendar View
- 월간 캘린더 형태
- 날짜별 포스트 표시
- 드래그 앤 드롭으로 일정 변경

### 2.3 Status Tabs
| 탭 | 필터 | 설명 |
|----|------|------|
| 전체 | - | 모든 포스트 |
| 초안 | status=draft | 작성 중인 포스트 |
| 예약됨 | status=scheduled | 발행 예정 포스트 |
| 게시됨 | status=published | 발행 완료 포스트 |
| 실패 | status=failed | 발행 실패 포스트 |

### 2.4 Post Card Actions
| 액션 | 아이콘 | 조건 | 설명 |
|------|--------|------|------|
| 편집 | Pencil | 초안/예약됨 | 편집 페이지로 이동 |
| 복제 | Copy | 항상 | 동일 내용으로 새 초안 생성 |
| 삭제 | Trash | 초안/예약됨 | 삭제 확인 후 제거 |
| 지금 게시 | Send | 초안/예약됨 | 즉시 발행 |
| 인사이트 | Chart | 게시됨 | 성과 상세 보기 |

---

## 3. CS-002: 콘텐츠 생성 화면

### 3.1 화면 구조
```
┌─────────────────────────────────────────────────────────────┐
│ [← 목록]  새 포스트 작성              [미리보기] [임시저장] │
├─────────────────────────────────────────────────────────────┤
│ ┌───────────────────────────┐ ┌───────────────────────────┐ │
│ │ 미디어                     │ │ Instagram 미리보기        │ │
│ │                           │ │ ┌───────────────────────┐ │ │
│ │ ┌─────────────────────┐   │ │ │ 📱                   │ │ │
│ │ │                     │   │ │ │ ┌─────────────────┐ │ │ │
│ │ │    + 이미지 추가    │   │ │ │ │     [image]     │ │ │ │
│ │ │                     │   │ │ │ │                 │ │ │ │
│ │ └─────────────────────┘   │ │ │ └─────────────────┘ │ │ │
│ │                           │ │ │ ❤️ 💬 📤 🔖        │ │ │
│ │ [라이브러리] [AI 생성]    │ │ │ "캡션 텍스트..."   │ │ │
│ │                           │ │ │ #해시태그          │ │ │
│ ├───────────────────────────┤ │ └───────────────────────┘ │ │
│ │ 캡션                       │ └───────────────────────────┘ │
│ │ ┌─────────────────────┐   │                               │
│ │ │                     │   │ 발행 설정                      │
│ │ │                     │   │ ┌───────────────────────────┐ │
│ │ │ (textarea)          │   │ │ ○ 지금 게시               │ │
│ │ │                     │   │ │ ● 예약 게시               │ │
│ │ └─────────────────────┘   │ │   📅 12/25  ⏰ 10:00      │ │
│ │ 234/2,200                 │ │                           │ │
│ │                           │ │ 최적 시간 추천: 화 10:00   │ │
│ │ [⚡ AI 캡션 생성]          │ └───────────────────────────┘ │
│ │                           │                               │
│ ├───────────────────────────┤ ┌───────────────────────────┐ │
│ │ 해시태그                   │ │ [예약하기]                │ │
│ │ ┌─────────────────────┐   │ └───────────────────────────┘ │
│ │ │ #미용실 #헤어 × ...  │   │                               │
│ │ └─────────────────────┘   │                               │
│ │ [추천 해시태그]            │                               │
│ └───────────────────────────┘                               │
└─────────────────────────────────────────────────────────────┘
```

### 3.2 Media Section

#### 3.2.1 Upload Area
| 속성 | 값 |
|------|-----|
| 지원 형식 | JPG, PNG, MP4, MOV |
| 최대 크기 | 이미지 8MB, 비디오 100MB |
| 최대 개수 | 10개 (캐러셀) |
| 드래그앤드롭 | 지원 |

#### 3.2.2 Media Actions
| 액션 | 설명 |
|------|------|
| 라이브러리에서 선택 | 미디어 라이브러리 모달 |
| AI 이미지 생성 | AI 스튜디오로 이동 |
| 직접 업로드 | 파일 선택기 |

#### 3.2.3 Media Preview
- 썸네일 그리드
- 드래그로 순서 변경
- 개별 삭제/편집 버튼
- 첫 번째 = 커버 이미지

### 3.3 Caption Section

#### 3.3.1 Caption Editor
| 속성 | 값 |
|------|-----|
| Max Length | 2,200자 |
| Placeholder | "무엇을 공유하고 싶으세요?" |
| Character Counter | 실시간 표시 |
| Emoji Picker | 지원 |
| Mention (@) | 자동완성 지원 |

#### 3.3.2 AI Caption Generation
| 옵션 | 값 |
|------|-----|
| 톤 | 친근한, 전문적인, 트렌디한, 감성적인 |
| 길이 | 짧게(~100자), 보통(~300자), 길게(~500자) |
| 포함 요소 | CTA, 이모지, 질문 |
| 언어 | 한국어, 영어, 혼합 |

### 3.4 Hashtag Section

#### 3.4.1 Hashtag Input
- 태그 형태로 표시
- 자동완성 지원
- 최대 30개

#### 3.4.2 Recommended Hashtags
| 카테고리 | 예시 |
|----------|------|
| 업종 관련 | #미용실 #헤어살롱 #네일샵 |
| 위치 기반 | #강남미용실 #홍대헤어 |
| 트렌드 | #오늘의헤어 #헤어스타그램 |
| AI 추천 | 이미지/캡션 분석 기반 |

### 3.5 Publishing Section

#### 3.5.1 Publish Options
| 옵션 | 설명 |
|------|------|
| 지금 게시 | 즉시 발행 |
| 예약 게시 | 날짜/시간 선택 |

#### 3.5.2 Schedule Picker
```
┌─────────────────────────────────────┐
│ 예약 날짜 및 시간                    │
├─────────────────────────────────────┤
│ 📅 날짜: [2025-12-25 ▼]             │
│ ⏰ 시간: [10:00 ▼]                  │
├─────────────────────────────────────┤
│ 💡 최적 시간 추천                    │
│ • 화요일 10:00 - 인게이지먼트 최고   │
│ • 목요일 19:00 - 도달률 최고         │
└─────────────────────────────────────┘
```

### 3.6 Instagram Preview

#### 3.6.1 Preview Frame
- 실제 Instagram 앱 UI 시뮬레이션
- 프로필 사진, 계정명 표시
- 캡션, 해시태그 미리보기
- 다크/라이트 모드 토글

---

## 4. CS-004: AI 스튜디오 화면

### 4.1 화면 구조
```
┌─────────────────────────────────────────────────────────────┐
│ AI 콘텐츠 스튜디오                                          │
│ AI가 맞춤형 콘텐츠를 생성해 드립니다                         │
├─────────────────────────────────────────────────────────────┤
│ Step 1: 콘텐츠 유형 선택                                    │
│ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │
│ │ 📸      │ │ 🎬      │ │ 📝      │ │ 🎨      │           │
│ │ 이미지  │ │ 릴스    │ │ 캡션만  │ │ 스토리  │           │
│ └─────────┘ └─────────┘ └─────────┘ └─────────┘           │
├─────────────────────────────────────────────────────────────┤
│ Step 2: 콘텐츠 주제                                         │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 어떤 콘텐츠를 만들고 싶으세요?                           │ │
│ │ "새로운 펌 스타일 홍보, 20대 여성 타겟"                  │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ 💡 추천 주제: [겨울 헤어케어] [신규 스타일] [이벤트 안내]   │
├─────────────────────────────────────────────────────────────┤
│ Step 3: 스타일 선택                                         │
│ 톤: [트렌디 ▼]  분위기: [밝은 ▼]  색감: [따뜻한 ▼]         │
├─────────────────────────────────────────────────────────────┤
│                    [✨ AI 콘텐츠 생성]                       │
├─────────────────────────────────────────────────────────────┤
│ 생성 결과 (4개)                                             │
│ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │
│ │[AI img] │ │[AI img] │ │[AI img] │ │[AI img] │           │
│ │ 선택    │ │         │ │         │ │         │           │
│ └─────────┘ └─────────┘ └─────────┘ └─────────┘           │
│                                                             │
│ 선택한 이미지의 캡션:                                        │
│ "겨울에도 빛나는 헤어스타일! ✨..."                          │
│                                                             │
│           [다시 생성] [이 콘텐츠로 포스트 작성]               │
└─────────────────────────────────────────────────────────────┘
```

### 4.2 Content Type Selection

| 유형 | 아이콘 | 설명 | AI 출력 |
|------|--------|------|---------|
| 이미지 포스트 | 📸 | 피드 이미지 | 이미지 + 캡션 |
| 릴스 | 🎬 | 짧은 영상 | 스크립트 + 음악 추천 |
| 캡션만 | 📝 | 텍스트만 | 캡션 + 해시태그 |
| 스토리 | 🎨 | 24시간 콘텐츠 | 이미지 + 스티커 제안 |

### 4.3 Prompt Input

| 속성 | 값 |
|------|-----|
| Placeholder | "어떤 콘텐츠를 만들고 싶으세요?" |
| 예시 프롬프트 | 추천 주제 칩으로 제공 |
| 히스토리 | 최근 사용한 프롬프트 |

### 4.4 Style Options

| 옵션 | 선택지 |
|------|--------|
| 톤 | 전문적, 트렌디, 감성적, 유머러스 |
| 분위기 | 밝은, 차분한, 럭셔리, 캐주얼 |
| 색감 | 따뜻한, 시원한, 모노톤, 비비드 |

### 4.5 Generation Results

#### 4.5.1 Image Grid
- 4개 이미지 생성
- 선택 상태 표시 (체크마크)
- 확대 보기 지원

#### 4.5.2 Caption Preview
- 선택된 이미지에 맞는 캡션
- 해시태그 자동 포함
- 편집 가능

#### 4.5.3 Actions
| 액션 | 설명 |
|------|------|
| 다시 생성 | 동일 프롬프트로 재생성 |
| 포스트 작성 | 선택 콘텐츠로 생성 페이지 이동 |
| 저장 | 미디어 라이브러리에 저장 |

---

## 5. CS-005: 미디어 라이브러리 화면

### 5.1 화면 구조
```
┌─────────────────────────────────────────────────────────────┐
│ 미디어 라이브러리                         [+ 업로드]        │
├─────────────────────────────────────────────────────────────┤
│ [전체] [이미지] [동영상] [AI 생성]        🔍 검색           │
├─────────────────────────────────────────────────────────────┤
│ 📁 폴더                                                     │
│ ├── 📁 2025년 12월 (23)                                     │
│ ├── 📁 스타일북 (45)                                        │
│ ├── 📁 이벤트 (12)                                          │
│ └── 📁 AI 생성 (34)                                         │
├─────────────────────────────────────────────────────────────┤
│ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐           │
│ │     │ │     │ │     │ │     │ │     │ │     │           │
│ │ img │ │ img │ │ img │ │ vid │ │ img │ │ img │           │
│ │     │ │     │ │     │ │ ▶   │ │     │ │     │           │
│ └─────┘ └─────┘ └─────┘ └─────┘ └─────┘ └─────┘           │
│                                                             │
│ 선택됨: 3개                    [삭제] [폴더 이동] [다운로드] │
└─────────────────────────────────────────────────────────────┘
```

### 5.2 Filter Tabs
| 탭 | 필터 | 설명 |
|----|------|------|
| 전체 | - | 모든 미디어 |
| 이미지 | type=image | 이미지만 |
| 동영상 | type=video | 동영상만 |
| AI 생성 | source=ai | AI로 생성된 미디어 |

### 5.3 Folder Structure
- 계층적 폴더 구조
- 드래그앤드롭 이동
- 폴더 생성/삭제/이름 변경

### 5.4 Media Grid
| 표시 정보 | 위치 |
|-----------|------|
| 썸네일 | 중앙 |
| 파일 형식 뱃지 | 좌상단 |
| 선택 체크박스 | 우상단 |
| 사용 횟수 | 좌하단 |
| 영상 길이 | 우하단 (비디오) |

### 5.5 Bulk Actions
| 액션 | 설명 |
|------|------|
| 삭제 | 선택 미디어 삭제 |
| 폴더 이동 | 다른 폴더로 이동 |
| 다운로드 | ZIP으로 다운로드 |
| 포스트 생성 | 선택 미디어로 포스트 작성 |

---

## 6. API 연동

### 6.1 Endpoints

| 기능 | Method | Endpoint |
|------|--------|----------|
| 포스트 목록 | GET | `/api/v1/shops/{shopId}/posts` |
| 포스트 상세 | GET | `/api/v1/posts/{postId}` |
| 포스트 생성 | POST | `/api/v1/shops/{shopId}/posts` |
| 포스트 수정 | PUT | `/api/v1/posts/{postId}` |
| 포스트 삭제 | DELETE | `/api/v1/posts/{postId}` |
| 포스트 발행 | POST | `/api/v1/posts/{postId}/publish` |
| AI 캡션 생성 | POST | `/api/v1/ai/generate-caption` |
| AI 이미지 생성 | POST | `/api/v1/ai/generate-image` |
| 해시태그 추천 | GET | `/api/v1/ai/recommend-hashtags` |
| 미디어 업로드 | POST | `/api/v1/media/upload` |
| 미디어 목록 | GET | `/api/v1/shops/{shopId}/media` |
| 최적 시간 추천 | GET | `/api/v1/shops/{shopId}/optimal-times` |

### 6.2 Request/Response Examples

#### AI 캡션 생성
```typescript
// Request
POST /api/v1/ai/generate-caption
{
  "shop_id": "shop_123",
  "prompt": "새로운 펌 스타일 홍보",
  "tone": "trendy",
  "length": "medium",
  "include_cta": true,
  "include_emoji": true,
  "language": "ko"
}

// Response
{
  "caption": "겨울에도 빛나는 당신만의 펌 스타일 ✨\n\n차가운 바람에도 볼륨감 그대로!...",
  "hashtags": ["#펌스타일", "#겨울헤어", "#볼륨펌"],
  "generated_at": "2025-12-21T10:00:00Z"
}
```

---

## 7. 상태 관리

### 7.1 Post Status Flow
```
[draft] → [scheduled] → [publishing] → [published]
                ↓              ↓
            [cancelled]    [failed]
```

### 7.2 Status Definitions
| 상태 | 설명 | 가능한 액션 |
|------|------|-------------|
| draft | 초안 저장됨 | 편집, 삭제, 예약, 즉시 게시 |
| scheduled | 발행 예약됨 | 편집, 삭제, 취소, 즉시 게시 |
| publishing | 발행 진행중 | - |
| published | 발행 완료 | 인사이트 보기 |
| failed | 발행 실패 | 재시도, 편집, 삭제 |
| cancelled | 예약 취소됨 | 편집, 삭제, 재예약 |

---

## 8. 반응형 디자인

### 8.1 Mobile Adaptations

#### 콘텐츠 목록
- 그리드: 2열 → 1열
- 리스트: 카드 형태로 변환
- 캘린더: 주간 뷰로 기본

#### 콘텐츠 생성
- 2컬럼 → 단일 컬럼
- 미리보기: 토글 버튼으로 표시/숨김
- 하단 고정 액션 바

---

## 9. 접근성

### 9.1 Keyboard Shortcuts
| 단축키 | 기능 |
|--------|------|
| Ctrl+N | 새 포스트 |
| Ctrl+S | 저장 |
| Ctrl+Enter | 발행/예약 |
| Escape | 모달 닫기 |

### 9.2 Screen Reader
- 이미지에 alt 텍스트 (AI 자동 생성)
- 상태 변경 aria-live 알림
- 폼 필드 레이블 연결

---

## 10. 파일 구조

```
src/frontend/src/app/dashboard/instagram/
├── page.tsx                     # 콘텐츠 목록
├── create/
│   └── page.tsx                 # 콘텐츠 생성
├── [id]/
│   ├── page.tsx                 # 콘텐츠 상세
│   └── edit/
│       └── page.tsx             # 콘텐츠 편집
├── ai-studio/
│   └── page.tsx                 # AI 스튜디오
├── media/
│   └── page.tsx                 # 미디어 라이브러리
├── components/
│   ├── PostGrid.tsx             # 그리드 뷰
│   ├── PostList.tsx             # 리스트 뷰
│   ├── PostCalendar.tsx         # 캘린더 뷰
│   ├── PostCard.tsx             # 포스트 카드
│   ├── PostEditor.tsx           # 포스트 에디터
│   ├── MediaUploader.tsx        # 미디어 업로더
│   ├── CaptionEditor.tsx        # 캡션 에디터
│   ├── HashtagInput.tsx         # 해시태그 입력
│   ├── InstagramPreview.tsx     # 인스타 미리보기
│   ├── SchedulePicker.tsx       # 예약 시간 선택
│   ├── AIStudioWizard.tsx       # AI 생성 위자드
│   └── MediaLibrary.tsx         # 미디어 라이브러리
└── hooks/
    ├── usePosts.ts              # 포스트 CRUD
    ├── useMediaLibrary.ts       # 미디어 관리
    ├── useAIGeneration.ts       # AI 생성
    └── useScheduling.ts         # 스케줄링
```
